@attribute [Microsoft.AspNetCore.Components.RouteAttribute(Routes.TABLE)]
@using static SharedKernel.Constants.Colors;
@using static Constants

<div class="h-100">
    <SpinLoader IsLoading="TableState.Value.IsLoading || TableState.Value.Table is null">
        <LoadingTemplate>
            <div class="w-100 h-100 d-flex align-items-center">
                <Grid Center=@true Color=@PRIMARY />
            </div>
        </LoadingTemplate>
        <ContentTemplate>
            <div class="container h-100">
                <RadzenCard class="h-100">
                    <div class="d-flex justify-content-between align-items-center">
                        <h1>
                            @TableState.Value.Table.Name
                        </h1>
                        <RadzenButton Click=@Leave
                                      Text="Leave"
                                      Icon="logout"
                                      ButtonStyle="ButtonStyle.Danger"
                                      Disabled=@(this.TableState.Value.IsLoading) />
                    </div>
                    <hr />

                    <div class="h-100">
                        <Player></Player>
                        <Card></Card>
                    </div>
                    <button @onclick="Vote" disabled="@(!this.PokerClient.IsConnected)">Send</button>

                    @*@foreach (var player in TableState.Value.Table.Players)
                    {
                        <RadzenCard class="m-3" style="height: 128px; width:256px">
                            <div class="d-flex justify-content-center">
                                <div class="col-md-12" align="center">
                                    <h3>@player.UserName</h3>
                                    <h2>?</h2>
                                </div>
                            </div>
                        </RadzenCard>
                    }*@
                </RadzenCard>
            </div>
        </ContentTemplate>
    </SpinLoader>
</div>